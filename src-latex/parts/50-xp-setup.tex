% !TeX root = ../main-paper.tex
\section{Experimental Setup}

\subsection{Metrics}
\begin{itemize}
    \item NER quality: Precision, Recall, F1 score (idea: stick with standard spacy/sklearn metrics) \textcolor{blue}{Dans la plupart des articles que j'ai lus, c'est toujours une F-mesure qui est utilisée et parfois la précision et le rappel sont ajoutés.}
    \item OCR accuracy: outputs from standard tools (beware of unknown glyphs: do we need any special care?) \textcolor{blue}{Pour l'instant, j'ai croisé: CER, WER, Levenshtein et Jaccard. J'ai encore un état de l'art à lire sur le sujet: il y aura probablement d'autres mesures mentionnées.}
    
    \textcolor{blue}{Pour la partie Experiment 2: dans la litérature j'ai vu des courbes F-Mesure(CER) ou F-Mesure(WER) et des diagrammes avec F-Mesure calculée sur des sous-ensembles du corpus classés par score de Levenshtein.}
\end{itemize}

\subsection{Training procedure}

\begin{itemize}
\item All : leave out 3 directories (~20\% of the dataset) as test data. Then apply stratified sampling based on the directory of each entry to split the remaining into a train set (~72\%) and a dev set (~8\%).
\item Spacy CNN : No limit on epochs, instead use patience 1600.
\item CamemBERT \& CamemBERT pretrained : 3 epochs.
\end{itemize}

Experiment 1: split the training set in half recursively as long as the train \& dev sets contain at least one entry of each directory in the original trainset. On the current dataset with 8k entries this leads to the creations of 8 subsets containing 0.8, 1.5, 3.1, 6.2, 12.5, 25, 50 and 100\% of the full train set. Models arerun 5 times on each trainset. 


Experiment 2 : 1 run per dataset on the best model, i.e. CamemBERT + pretraining.
What train/dev/test stragegy ? E.g. trainset 100\% noisy + dev 50\% clean + test 50\% clean ?
 

\subsection{Parameters for each method}

\subsection{OCR systems}
\begin{itemize}
    \item original OCR
    \item Tesseract 4
    \item Pero
    \item other?
\end{itemize}

\subsection{Implementation details}
we use spacy \mcite{spacy} for the CNN implementation and Huggingface for BERT.

will we use FLAIR as well? $\rightarrow$ No